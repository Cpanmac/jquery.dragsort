// Opinionated drag and drop sorting using native drag and drop support.
(function(a){"use strict";var b={};a.fn.dragsort=function(c){b=a.extend({},a.fn.dragsort.defaults,c),this.each(function(){var c=a(this),d=c.find(b.draggableEl),e=null,f=function(c){c.dataTransfer.effectAllowed="move",c.dataTransfer.setData("text/html",this.innerHTML),e=a(this),a(this).addClass(b.draggingClass)},g=function(a){d.removeClass(b.overClass).removeClass(b.draggingClass)},h=function(c){a(this).addClass(b.overClass)},i=function(c){a(this).removeClass(b.overClass)},j=function(a){return a.preventDefault&&a.preventDefault(),a.dataTransfer.dropEffect="move",!1},k=function(c){var d=a(this),f=null,g=d.index(),h=e.index();return c.stopPropagation&&c.stopPropagation(),e!==this&&(f=e.detach(),g<h?f.insertBefore(d):f.insertAfter(d),b.dropCallback()),!1};a.each(d,function(c,d){a(d).hasClass(b.ignoreClass)||(a(d).attr("draggable",!0),d.addEventListener("dragstart",f,!1),d.addEventListener("dragenter",h,!1),d.addEventListener("dragover",j,!1),d.addEventListener("dragleave",i,!1),d.addEventListener("drop",k,!1),d.addEventListener("dragend",g,!1))})})},a.fn.dragsort.defaults={draggableEl:"li",ignoreClass:"non-draggable",draggingClass:"dragging",overClass:"over",dropCallback:a.noop}})(jQuery);