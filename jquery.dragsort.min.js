// Opinionated drag and drop sorting using native drag and drop support.
(function(a){"use strict";var b={};a.fn.dragsort=function(c){b=a.extend({},a.fn.dragsort.defaults,c),this.each(function(){var c=a(this),d=null,e=function(c){c.originalEvent.dataTransfer.effectAllowed="move",c.originalEvent.dataTransfer.setData("text/html",this.innerHTML),d=a(this),a(this).addClass(b.draggingClass)},f=function(a){c.find(b.draggableEl).removeClass(b.overClass).removeClass(b.draggingClass)},g=function(c){a(this).addClass(b.overClass)},h=function(c){a(this).removeClass(b.overClass)},i=function(a){return a.preventDefault(),a.originalEvent.dataTransfer.dropEffect="move",!1},j=function(c){var e=a(this),f=null,g=e.index(),h=d.index();return c.stopPropagation(),h!==g&&(f=d.detach(),g<h?f.insertBefore(e):f.insertAfter(e),b.dropCallback()),!1};c.find(b.draggableEl).not(b.draggableEl+"."+b.ignoreClass).attr("draggable",!0),c.on({dragstart:e,dragenter:g,dragover:i,dragleave:h,drop:j,dragend:f},b.draggableEl)})},a.fn.dragsort.defaults={draggableEl:"li",ignoreClass:"non-draggable",draggingClass:"dragging",overClass:"over",dropCallback:a.noop}})(jQuery);